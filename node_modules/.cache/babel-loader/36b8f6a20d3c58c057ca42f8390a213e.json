{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/slechani/react-ladompteuse-website/src/views/login/Login.tsx\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { withRouter } from 'react-router';\nimport './Login.css';\nimport lockImg from './LOCK.png';\nimport lockImg2x from './LOCK@2x.png';\nimport DigitInput from '../../components/digitinput/DigitInput';\nimport LogoSerge from 'src/components/logoserge/LogoSerge';\nimport { connect } from 'react-redux';\nimport { isAuthentifcated } from 'src/store/root/actions';\nconst validcode = {\n  '29547': 'EN',\n  '27683': 'FR',\n  '37294': 'EN',\n  '36842': 'EN',\n  '46273': 'ES',\n  '43582': 'EN',\n  '59376': 'EN',\n  '52843': 'EN',\n  '64823': 'EN',\n  '63598': 'FR',\n  '78569': 'EN',\n  '72495': 'EN',\n  '83296': 'EN',\n  '86572': 'EN',\n  '95426': 'EN',\n  '92857': 'EN',\n  '97364': 'EN',\n  '25894': 'FR'\n};\n\nclass Login extends React.Component {\n  constructor(prop) {\n    super(prop);\n\n    this.handleLoad = () => {\n      alert(\"loaded\");\n    };\n\n    this._onChange = value => {\n      this.setState({\n        value\n      });\n\n      if (Object.keys(validcode).includes(value)) {\n        this.setState({\n          value\n        }); // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n\n        this.props.i18n.changeLanguage(validcode[value]);\n        this.props.isAuthentifcated();\n        this.props.history.push({\n          pathname: 'main'\n        });\n      }\n    };\n\n    this.state = {\n      value: ''\n    };\n\n    if (this.props.hasValidateAuthentification) {\n      this.props.history.push({\n        pathname: 'main'\n      });\n    }\n\n    this.handleLoad = this.handleLoad.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.handleLoad);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('load', this.handleLoad);\n  }\n\n  render() {\n    const {\n      t\n    } = this.props;\n    const {\n      value\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(LogoSerge, {\n        className: \"logo no-opacity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lock\",\n          id: \"lock-container\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"lock\",\n            className: \"lock no-opacity\",\n            src: lockImg,\n            srcSet: lockImg2x\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"unlockgroup no-opacity\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"unlock\",\n            children: t('login.unlock')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"thesecret\",\n            children: t('login.thesecret')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form no-opacity\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"enter\",\n            children: [t('login.enter'), \" 29547\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DigitInput, {\n            value: value,\n            onChange: this._onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"hashtag no-opacity\",\n          children: t('login.hashtag')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    hasValidateAuthentification: state.hasValidateAuthentification\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    isAuthentifcated: () => dispatch(isAuthentifcated())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(withRouter(Login)));","map":{"version":3,"sources":["/home/slechani/react-ladompteuse-website/src/views/login/Login.tsx"],"names":["React","withTranslation","withRouter","lockImg","lockImg2x","DigitInput","LogoSerge","connect","isAuthentifcated","validcode","Login","Component","constructor","prop","handleLoad","alert","_onChange","value","setState","Object","keys","includes","props","i18n","changeLanguage","history","push","pathname","state","hasValidateAuthentification","bind","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render","t","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,eAAR,QAA+C,eAA/C;AACA,SAA6BC,UAA7B,QAA8C,cAA9C;AACA,OAAO,aAAP;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,SAAP,MAAsB,oCAAtB;AAGA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,gBAAR,QAA+B,wBAA/B;AAGA,MAAMC,SAAS,GAAG;AAChB,WAAS,IADO;AAEhB,WAAS,IAFO;AAGhB,WAAS,IAHO;AAIhB,WAAS,IAJO;AAKhB,WAAS,IALO;AAMhB,WAAS,IANO;AAOhB,WAAS,IAPO;AAQhB,WAAS,IARO;AAShB,WAAS,IATO;AAUhB,WAAS,IAVO;AAWhB,WAAS,IAXO;AAYhB,WAAS,IAZO;AAahB,WAAS,IAbO;AAchB,WAAS,IAdO;AAehB,WAAS,IAfO;AAgBhB,WAAS,IAhBO;AAiBhB,WAAS,IAjBO;AAkBhB,WAAS;AAlBO,CAAlB;;AAkCA,MAAMC,KAAN,SAAoBV,KAAK,CAACW,SAA1B,CAAiD;AAC/CC,EAAAA,WAAW,CAACC,IAAD,EAAa;AACtB,UAAMA,IAAN;;AADsB,SAmBxBC,UAnBwB,GAmBX,MAAM;AACjBC,MAAAA,KAAK,CAAC,QAAD,CAAL;AACD,KArBuB;;AAAA,SAuBxBC,SAvBwB,GAuBXC,KAAD,IAAmB;AAC7B,WAAKC,QAAL,CAAc;AAACD,QAAAA;AAAD,OAAd;;AACA,UAAIE,MAAM,CAACC,IAAP,CAAYX,SAAZ,EAAuBY,QAAvB,CAAgCJ,KAAhC,CAAJ,EAA4C;AAC1C,aAAKC,QAAL,CAAc;AAACD,UAAAA;AAAD,SAAd,EAD0C,CAE1C;AACA;;AACA,aAAKK,KAAL,CAAWC,IAAX,CAAgBC,cAAhB,CAA+Bf,SAAS,CAACQ,KAAD,CAAxC;AACA,aAAKK,KAAL,CAAWd,gBAAX;AACA,aAAKc,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB;AAACC,UAAAA,QAAQ,EAAE;AAAX,SAAxB;AACD;AACF,KAjCuB;;AAEtB,SAAKC,KAAL,GAAa;AACXX,MAAAA,KAAK,EAAE;AADI,KAAb;;AAGA,QAAI,KAAKK,KAAL,CAAWO,2BAAf,EAA4C;AAC1C,WAAKP,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,CAAwB;AAACC,QAAAA,QAAQ,EAAE;AAAX,OAAxB;AACD;;AACD,SAAKb,UAAL,GAAkB,KAAKA,UAAL,CAAgBgB,IAAhB,CAAqB,IAArB,CAAlB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,KAAKnB,UAArC;AACD;;AAEDoB,EAAAA,oBAAoB,GAAG;AACrBF,IAAAA,MAAM,CAACG,mBAAP,CAA2B,MAA3B,EAAmC,KAAKrB,UAAxC;AACD;;AAkBDsB,EAAAA,MAAM,GAAgB;AACpB,UAAM;AAACC,MAAAA;AAAD,QAAM,KAAKf,KAAjB;AACA,UAAM;AAACL,MAAAA;AAAD,QAAU,KAAKW,KAArB;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACE,QAAC,SAAD;AAAW,QAAA,SAAS,EAAC;AAArB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAsB,UAAA,EAAE,EAAC,gBAAzB;AAAA,iCACE;AAAK,YAAA,EAAE,EAAC,MAAR;AAAe,YAAA,SAAS,EAAC,iBAAzB;AAA2C,YAAA,GAAG,EAAEzB,OAAhD;AAAyD,YAAA,MAAM,EAAEC;AAAjE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA,kCACE;AAAG,YAAA,SAAS,EAAC,QAAb;AAAA,sBAAuBiC,CAAC,CAAC,cAAD;AAAxB;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAG,YAAA,SAAS,EAAC,WAAb;AAAA,sBAA0BA,CAAC,CAAC,iBAAD;AAA3B;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAQE;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,kCACE;AAAG,YAAA,SAAS,EAAC,OAAb;AAAA,uBAAsBA,CAAC,CAAC,aAAD,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,UAAD;AAAY,YAAA,KAAK,EAAEpB,KAAnB;AAA0B,YAAA,QAAQ,EAAE,KAAKD;AAAzC;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eAYE;AAAG,UAAA,SAAS,EAAC,oBAAb;AAAA,oBAAmCqB,CAAC,CAAC,eAAD;AAApC;AAAA;AAAA;AAAA;AAAA,gBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAmBD;;AA1D8C;;AA6DjD,MAAMC,eAAe,GAAIV,KAAD,IAAsC;AAC5D,SAAO;AACLC,IAAAA,2BAA2B,EAAED,KAAK,CAACC;AAD9B,GAAP;AAGD,CAJD;;AAMA,MAAMU,kBAAkB,GAAIC,QAAD,IAAuC;AAChE,SAAO;AACLhC,IAAAA,gBAAgB,EAAE,MAAMgC,QAAQ,CAAChC,gBAAgB,EAAjB;AAD3B,GAAP;AAGD,CAJD;;AAMA,eAAeD,OAAO,CACpB+B,eADoB,EAEpBC,kBAFoB,CAAP,CAGbtC,eAAe,GAAGC,UAAU,CAACQ,KAAD,CAAb,CAHF,CAAf","sourcesContent":["import React from 'react';\nimport {withTranslation, WithTranslation} from 'react-i18next';\nimport {RouteComponentProps, withRouter} from 'react-router';\nimport './Login.css';\nimport lockImg from './LOCK.png';\nimport lockImg2x from './LOCK@2x.png';\nimport DigitInput from '../../components/digitinput/DigitInput';\nimport LogoSerge from 'src/components/logoserge/LogoSerge';\nimport {ReduxAppState} from '../../store';\nimport {Dispatch} from 'redux';\nimport {connect} from 'react-redux';\nimport {isAuthentifcated} from 'src/store/root/actions';\nimport {RootActionTypes} from 'src/store/root/types';\n\nconst validcode = {\n  '29547': 'EN',\n  '27683': 'FR',\n  '37294': 'EN',\n  '36842': 'EN',\n  '46273': 'ES',\n  '43582': 'EN',\n  '59376': 'EN',\n  '52843': 'EN',\n  '64823': 'EN',\n  '63598': 'FR',\n  '78569': 'EN',\n  '72495': 'EN',\n  '83296': 'EN',\n  '86572': 'EN',\n  '95426': 'EN',\n  '92857': 'EN',\n  '97364': 'EN',\n  '25894': 'FR',\n};\n\ntype StateProps = {\n  hasValidateAuthentification: boolean;\n};\n\ntype DispatchProps = {\n  isAuthentifcated: () => RootActionTypes;\n};\n\ntype Prop = WithTranslation & RouteComponentProps & StateProps & DispatchProps;\ntype State = {\n  value: string;\n};\n\nclass Login extends React.Component<Prop, State> {\n  constructor(prop: Prop) {\n    super(prop);\n    this.state = {\n      value: '',\n    };\n    if (this.props.hasValidateAuthentification) {\n      this.props.history.push({pathname: 'main'});\n    }\n    this.handleLoad = this.handleLoad.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.handleLoad);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('load', this.handleLoad);\n  }\n\n  handleLoad = () => {\n    alert(\"loaded\");\n  }\n\n  _onChange = (value: string) => {\n    this.setState({value});\n    if (Object.keys(validcode).includes(value)) {\n      this.setState({value});\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      this.props.i18n.changeLanguage(validcode[value]);\n      this.props.isAuthentifcated();\n      this.props.history.push({pathname: 'main'});\n    }\n  };\n\n  render(): JSX.Element {\n    const {t} = this.props;\n    const {value} = this.state;\n    return (\n      <div className=\"login\">\n        <LogoSerge className=\"logo no-opacity\" />\n        <div className=\"center\">\n          <div className=\"lock\" id=\"lock-container\">\n            <img id=\"lock\" className=\"lock no-opacity\" src={lockImg} srcSet={lockImg2x} />\n          </div>\n          <div className=\"unlockgroup no-opacity\">\n            <p className=\"unlock\">{t('login.unlock')}</p>\n            <p className=\"thesecret\">{t('login.thesecret')}</p>\n          </div>\n          <div className=\"form no-opacity\">\n            <p className=\"enter\">{t('login.enter')} 29547</p>\n            <DigitInput value={value} onChange={this._onChange} />\n          </div>\n          <p className=\"hashtag no-opacity\">{t('login.hashtag')}</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: ReduxAppState): StateProps => {\n  return {\n    hasValidateAuthentification: state.hasValidateAuthentification,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    isAuthentifcated: () => dispatch(isAuthentifcated()),\n  };\n};\n\nexport default connect<StateProps, DispatchProps, unknown, ReduxAppState>(\n  mapStateToProps,\n  mapDispatchToProps,\n)(withTranslation()(withRouter(Login)));\n"]},"metadata":{},"sourceType":"module"}