{"ast":null,"code":"import { API } from 'aws-amplify';\nimport * as mutations from '../../graphql/mutations';\nimport { ROOT_IS_AUTHENTICATED, ROOT_HAS_VOTED, ROOT_HAS_COMPLETED_XP } from './types';\nexport const createVote = vote => {\n  return async dispatch => {\n    await API.graphql({\n      query: mutations.createVote,\n      variables: {\n        input: vote\n      }\n    });\n    return dispatch(hasVoted());\n  };\n};\nexport const hasVoted = () => {\n  return {\n    type: ROOT_HAS_VOTED\n  };\n};\nexport const isAuthentifcated = code => {\n  return {\n    type: ROOT_IS_AUTHENTICATED,\n    code\n  };\n};\nexport const hasCompletedXp = () => {\n  return {\n    type: ROOT_HAS_COMPLETED_XP\n  };\n};","map":{"version":3,"sources":["/home/slechani/react-ladompteuse-website/src/store/root/actions.ts"],"names":["API","mutations","ROOT_IS_AUTHENTICATED","ROOT_HAS_VOTED","ROOT_HAS_COMPLETED_XP","createVote","vote","dispatch","graphql","query","variables","input","hasVoted","type","isAuthentifcated","code","hasCompletedXp"],"mappings":"AACA,SAAQA,GAAR,QAAkB,aAAlB;AACA,OAAO,KAAKC,SAAZ,MAA2B,yBAA3B;AACA,SAAyBC,qBAAzB,EAAgDC,cAAhD,EAAgEC,qBAAhE,QAA4F,SAA5F;AAeA,OAAO,MAAMC,UAA2F,GACtGC,IADyG,IAEtG;AACH,SAAO,MAAOC,QAAP,IAAqE;AAC1E,UAAMP,GAAG,CAACQ,OAAJ,CAAY;AAACC,MAAAA,KAAK,EAAER,SAAS,CAACI,UAAlB;AAA8BK,MAAAA,SAAS,EAAE;AAACC,QAAAA,KAAK,EAAEL;AAAR;AAAzC,KAAZ,CAAN;AACA,WAAOC,QAAQ,CAACK,QAAQ,EAAT,CAAf;AACD,GAHD;AAID,CAPM;AASP,OAAO,MAAMA,QAAwC,GAAG,MAAM;AAC5D,SAAO;AACLC,IAAAA,IAAI,EAAEV;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMW,gBAAgD,GAAIC,IAAD,IAAkB;AAChF,SAAO;AACLF,IAAAA,IAAI,EAAEX,qBADD;AAELa,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAMC,cAA8C,GAAG,MAAM;AAClE,SAAO;AACLH,IAAAA,IAAI,EAAET;AADD,GAAP;AAGD,CAJM","sourcesContent":["import {Action, ActionCreator} from 'redux';\nimport {API} from 'aws-amplify';\nimport * as mutations from '../../graphql/mutations';\nimport {RootActionTypes, ROOT_IS_AUTHENTICATED, ROOT_HAS_VOTED, ROOT_HAS_COMPLETED_XP} from './types';\nimport {ThunkAction, ThunkDispatch} from 'redux-thunk';\nimport {Actions} from './reducers';\nimport {ReduxAppState} from '..';\n\nexport type Vote = {\n  question1: boolean;\n  question2: string;\n  question3: boolean;\n  question4: boolean;\n  question5: string;\n  question6: string;\n  code: string;\n};\n\nexport const createVote: ActionCreator<ThunkAction<Promise<Actions>, ReduxAppState, undefined, Actions>> = (\n  vote: Vote,\n) => {\n  return async (dispatch: ThunkDispatch<ReduxAppState, undefined, Action>) => {\n    await API.graphql({query: mutations.createVote, variables: {input: vote}});\n    return dispatch(hasVoted());\n  };\n};\n\nexport const hasVoted: ActionCreator<RootActionTypes> = () => {\n  return {\n    type: ROOT_HAS_VOTED,\n  };\n};\n\nexport const isAuthentifcated: ActionCreator<RootActionTypes> = (code: string) => {\n  return {\n    type: ROOT_IS_AUTHENTICATED,\n    code,\n  };\n};\n\nexport const hasCompletedXp: ActionCreator<RootActionTypes> = () => {\n  return {\n    type: ROOT_HAS_COMPLETED_XP,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}