{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/slechani/react-ladompteuse-website/src/views/login/Login.tsx\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { isAuthentifcated } from 'src/store/root/actions';\nimport './Login.css';\nimport Main from '../main/Main';\nconst validcode = {\n  '29547': 'EN',\n  '27683': 'FR',\n  '37294': 'EN',\n  '36842': 'EN',\n  '46273': 'ES',\n  '43582': 'EN',\n  '59376': 'EN',\n  '52843': 'EN',\n  '64823': 'EN',\n  '63598': 'FR',\n  '78569': 'EN',\n  '72495': 'EN',\n  '83296': 'EN',\n  '86572': 'EN',\n  '95426': 'EN',\n  '92857': 'EN',\n  '97364': 'EN',\n  '25894': 'FR'\n};\n\nclass Login extends React.Component {\n  constructor(prop) {\n    super(prop);\n\n    this.handleLoad = () => {\n      this.setState({\n        loaded: true\n      });\n    };\n\n    this._onChange = value => {\n      this.setState({\n        value\n      });\n\n      if (Object.keys(validcode).includes(value)) {\n        this.setState({\n          value\n        }); // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n\n        this.props.i18n.changeLanguage(validcode[value]);\n        this.props.isAuthentifcated(value);\n        this.setState({\n          code_entered: true\n        });\n      }\n    };\n\n    this.loadPage = () => {\n      this.props.history.push({\n        pathname: 'main'\n      });\n    };\n\n    this.state = {\n      value: '',\n      loaded: false,\n      code_entered: false\n    };\n\n    if (this.props.hasValidateAuthentification) {\n      this.props.history.push({\n        pathname: 'main'\n      });\n    }\n\n    this.handleLoad = this.handleLoad.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.handleLoad);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('load', this.handleLoad);\n  }\n\n  render() {\n    const zoom_anim = this.state.code_entered ? ' zoom-anim' : '';\n    const fade_out = this.state.code_entered ? ' fade-out' : '';\n    const loaded_fade_in = this.state.loaded ? ' fade-in-rest' : 'no-opacity';\n    const fade_in_lock = this.state.loaded ? ' fade-in-lock ' : ' ';\n    const no_opacity = this.state.code_entered ? ' ' : ' no-opacity ';\n    const logo_fade = this.state.loaded && !this.state.code_entered ? ' fade-in-logo' : '';\n    if (this.state.code_entered) setTimeout(this.loadPage, 5000);\n    const {\n      t\n    } = this.props;\n    const {\n      value\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this) //   <div className=\"login\">\n    //     <LogoSerge className={`logo no-opacity ${logo_fade}  ${fade_out}  `} />\n    //     <div className=\"center\">\n    //       <div className={`lock ${zoom_anim}`} id=\"lock-container\">\n    //         <img\n    //           id=\"lock\"\n    //           className={`lock  ${fade_in_lock}  ${no_opacity}  `}\n    //           //   className={this.state.loaded ? 'lock fade-in-lock' : 'lock no-opacity'}\n    //           src={lockImg}\n    //           srcSet={lockImg2x}\n    //         />\n    //       </div>\n    //       <div className={`lock no-select unlockgroup ${fade_out} ${loaded_fade_in}  `}>\n    //         <img className=\"unlock\" src={unlockImg} srcSet={unlockImg2x} />\n    //       </div>\n    //       <div className={`form enter-code no-select ${fade_out} ${loaded_fade_in}  `}>\n    //         {/* 29547 */}\n    //         {/* {t('login.enter')} */}\n    //         <p className=\"enter no-select\">ENTER THE CODE</p>\n    //         <DigitInput code_entered={this.state.code_entered} value={value} onChange={this._onChange} />\n    //       </div>\n    //       {/* {t('login.hashtag')} */}\n    //       <p className={`hashtag ${fade_out} ${loaded_fade_in}  `}>#LADOMPTEUSEENCAGEE</p>\n    //     </div>\n    //   </div>\n    ;\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    hasValidateAuthentification: state.hasValidateAuthentification\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    isAuthentifcated: code => dispatch(isAuthentifcated(code))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(withRouter(Login)));","map":{"version":3,"sources":["/home/slechani/react-ladompteuse-website/src/views/login/Login.tsx"],"names":["React","withTranslation","withRouter","connect","isAuthentifcated","Main","validcode","Login","Component","constructor","prop","handleLoad","setState","loaded","_onChange","value","Object","keys","includes","props","i18n","changeLanguage","code_entered","loadPage","history","push","pathname","state","hasValidateAuthentification","bind","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render","zoom_anim","fade_out","loaded_fade_in","fade_in_lock","no_opacity","logo_fade","setTimeout","t","mapStateToProps","mapDispatchToProps","dispatch","code"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {withTranslation, WithTranslation} from 'react-i18next';\nimport {RouteComponentProps, withRouter} from 'react-router';\nimport DigitInput from '../../components/digitinput/DigitInput';\nimport LogoSerge from 'src/components/logoserge/LogoSerge';\nimport {ReduxAppState} from '../../store';\nimport {Dispatch} from 'redux';\nimport {connect} from 'react-redux';\nimport {isAuthentifcated} from 'src/store/root/actions';\nimport {RootActionTypes} from 'src/store/root/types';\n\nimport './Login.css';\nimport lockImg from './LOCK.png';\nimport lockImg2x from './LOCK@2x.png';\nimport unlockImg from './UNLOCK THE SECRET.png';\nimport unlockImg2x from './UNLOCK THE SECRET@2x.png';\nimport Main from '../main/Main';\n\nconst validcode = {\n  '29547': 'EN',\n  '27683': 'FR',\n  '37294': 'EN',\n  '36842': 'EN',\n  '46273': 'ES',\n  '43582': 'EN',\n  '59376': 'EN',\n  '52843': 'EN',\n  '64823': 'EN',\n  '63598': 'FR',\n  '78569': 'EN',\n  '72495': 'EN',\n  '83296': 'EN',\n  '86572': 'EN',\n  '95426': 'EN',\n  '92857': 'EN',\n  '97364': 'EN',\n  '25894': 'FR',\n};\n\ntype StateProps = {\n  hasValidateAuthentification: boolean;\n};\n\ntype DispatchProps = {\n  isAuthentifcated: (code: string) => RootActionTypes;\n};\n\ntype Prop = WithTranslation & RouteComponentProps & StateProps & DispatchProps;\ntype State = {\n  value: string;\n  loaded: boolean;\n  code_entered: boolean;\n};\n\nclass Login extends React.Component<Prop, State> {\n  constructor(prop: Prop) {\n    super(prop);\n    this.state = {\n      value: '',\n      loaded: false,\n      code_entered: false,\n    };\n    if (this.props.hasValidateAuthentification) {\n      this.props.history.push({pathname: 'main'});\n    }\n    this.handleLoad = this.handleLoad.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.handleLoad);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('load', this.handleLoad);\n  }\n\n  handleLoad = () => {\n    this.setState({loaded: true});\n  };\n\n  _onChange = (value: string) => {\n    this.setState({value});\n    if (Object.keys(validcode).includes(value)) {\n      this.setState({value});\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      this.props.i18n.changeLanguage(validcode[value]);\n      this.props.isAuthentifcated(value);\n      this.setState({code_entered: true});\n    }\n  };\n\n  loadPage = () => {\n    this.props.history.push({pathname: 'main'});\n  };\n\n  render(): JSX.Element {\n    const zoom_anim = this.state.code_entered ? ' zoom-anim' : '';\n    const fade_out = this.state.code_entered ? ' fade-out' : '';\n    const loaded_fade_in = this.state.loaded ? ' fade-in-rest' : 'no-opacity';\n    const fade_in_lock = this.state.loaded ? ' fade-in-lock ' : ' ';\n    const no_opacity = this.state.code_entered ? ' ' : ' no-opacity ';\n\n    const logo_fade = this.state.loaded && !this.state.code_entered ? ' fade-in-logo' : '';\n    if (this.state.code_entered) setTimeout(this.loadPage, 5000);\n    const {t} = this.props;\n    const {value} = this.state;\n    return (\n      <Main></Main>\n      //   <div className=\"login\">\n      //     <LogoSerge className={`logo no-opacity ${logo_fade}  ${fade_out}  `} />\n      //     <div className=\"center\">\n      //       <div className={`lock ${zoom_anim}`} id=\"lock-container\">\n      //         <img\n      //           id=\"lock\"\n      //           className={`lock  ${fade_in_lock}  ${no_opacity}  `}\n      //           //   className={this.state.loaded ? 'lock fade-in-lock' : 'lock no-opacity'}\n      //           src={lockImg}\n      //           srcSet={lockImg2x}\n      //         />\n      //       </div>\n      //       <div className={`lock no-select unlockgroup ${fade_out} ${loaded_fade_in}  `}>\n      //         <img className=\"unlock\" src={unlockImg} srcSet={unlockImg2x} />\n      //       </div>\n      //       <div className={`form enter-code no-select ${fade_out} ${loaded_fade_in}  `}>\n      //         {/* 29547 */}\n      //         {/* {t('login.enter')} */}\n      //         <p className=\"enter no-select\">ENTER THE CODE</p>\n      //         <DigitInput code_entered={this.state.code_entered} value={value} onChange={this._onChange} />\n      //       </div>\n      //       {/* {t('login.hashtag')} */}\n      //       <p className={`hashtag ${fade_out} ${loaded_fade_in}  `}>#LADOMPTEUSEENCAGEE</p>\n      //     </div>\n      //   </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: ReduxAppState): StateProps => {\n  return {\n    hasValidateAuthentification: state.hasValidateAuthentification,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    isAuthentifcated: (code: string) => dispatch(isAuthentifcated(code)),\n  };\n};\n\nexport default connect<StateProps, DispatchProps, unknown, ReduxAppState>(\n  mapStateToProps,\n  mapDispatchToProps,\n)(withTranslation()(withRouter(Login)));\n"]},"metadata":{},"sourceType":"module"}