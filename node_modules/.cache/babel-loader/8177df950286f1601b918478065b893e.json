{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/slechani/react-ladompteuse-website/src/views/login/Login.tsx\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { withRouter } from 'react-router';\nimport DigitInput from '../../components/digitinput/DigitInput';\nimport LogoSerge from 'src/components/logoserge/LogoSerge';\nimport { connect } from 'react-redux';\nimport { isAuthentifcated } from 'src/store/root/actions';\nimport './Login.css';\nimport lockImg from './LOCK.png';\nimport lockImg2x from './LOCK@2x.png';\nimport unlockImg from './UNLOCK THE SECRET.png';\nimport unlockImg2x from './UNLOCK THE SECRET@2x.png';\nimport Main from '../main/Main'; // const validcode = {\n//   '29547': 'EN',\n//   '27683': 'FR',\n//   '37294': 'EN',\n//   '36842': 'EN',\n//   '46273': 'ES',\n//   '43582': 'EN',\n//   '59376': 'EN',\n//   '52843': 'EN',\n//   '64823': 'EN',\n//   '63598': 'FR',\n//   '78569': 'EN',\n//   '72495': 'EN',\n//   '83296': 'EN',\n//   '86572': 'EN',\n//   '95426': 'EN',\n//   '92857': 'EN',\n//   '97364': 'EN',\n//   '25894': 'FR',\n// };\n\nimport validcode from 'src/utils/logincode';\n\nclass Login extends React.Component {\n  constructor(prop) {\n    super(prop);\n\n    this.handleLoad = () => {\n      this.setState({\n        loaded: true\n      });\n    };\n\n    this._onChange = value => {\n      this.setState({\n        value\n      });\n\n      if (Object.keys(validcode).includes(value)) {\n        this.setState({\n          value\n        }); // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n\n        this.props.i18n.changeLanguage(validcode[value].lang.toLowerCase());\n        this.props.isAuthentifcated(value);\n        this.setState({\n          code_entered: true\n        });\n        localStorage.setItem('is_auth', JSON.stringify(true));\n        this.setState({\n          is_auth: true\n        });\n      }\n    };\n\n    this.loadPage = () => {\n      // this.props.history.push({pathname: 'main'});\n      this.setState({\n        pre_load_over: true\n      });\n    };\n\n    this.state = {\n      value: '',\n      loaded: false,\n      code_entered: false,\n      pre_load_over: false,\n      is_auth: false\n    }; // if (this.props.hasValidateAuthentification) {\n    //   //   this.props.history.push({pathname: 'main'});\n    //   alert('IS AUTH');\n    // } else alert('not auth');\n\n    this.handleLoad = this.handleLoad.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.handleLoad);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('load', this.handleLoad);\n  }\n\n  // Clears text selection\n  //   clearSelection = () => {\n  //     if (!window) {\n  //     } else {\n  //       if (window.getSelection) {\n  //         window.getSelection().removeAllRanges();\n  //       }\n  //     }\n  //   };\n  render() {\n    // Page load check for login\n    if (document.readyState === 'complete' && this.state.loaded != true) {\n      console.log('LOAD CHECK ENTERED');\n      this.setState({\n        loaded: true\n      });\n    }\n\n    const zoom_anim = this.state.code_entered ? ' zoom-anim' : '';\n    const fade_out = this.state.code_entered ? ' fade-out' : '';\n    const loaded_fade_in = this.state.loaded ? ' fade-in-rest' : 'no-opacity';\n    const fade_in_lock = this.state.loaded ? ' fade-in-lock ' : ' ';\n    const no_opacity = this.state.code_entered ? ' ' : ' no-opacity ';\n    const logo_fade = this.state.loaded && !this.state.code_entered ? ' fade-in-logo' : '';\n    const is_auth = localStorage.getItem('is_auth') === null ? false : true;\n    if (this.state.code_entered) setTimeout(this.loadPage, 4800);\n    const {\n      t\n    } = this.props;\n    const {\n      value\n    } = this.state; // Login page\n\n    const login_page = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(LogoSerge, {\n        className: `logo no-opacity ${logo_fade}  ${fade_out}  `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `lock ${zoom_anim}`,\n          id: \"lock-container\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"lock\",\n            className: `lock  ${fade_in_lock}  ${no_opacity}  ` //   className={this.state.loaded ? 'lock fade-in-lock' : 'lock no-opacity'}\n            ,\n            src: lockImg,\n            srcSet: lockImg2x\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `lock no-select unlockgroup ${fade_out} ${loaded_fade_in}  `,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"unlock\",\n            src: unlockImg,\n            srcSet: unlockImg2x\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `form enter-code no-select ${fade_out} ${loaded_fade_in}  `,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"enter no-select\",\n            children: \"ENTER THE CODE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DigitInput, {\n            code_entered: this.state.code_entered,\n            value: value,\n            onChange: this._onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `hashtag ${fade_out} ${loaded_fade_in}  `,\n            children: \"#LADOMPTEUSEENCAGEE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this); // alert(JSON.stringify(ReactReduxContext));\n    // const page_to_show = this.getPage();\n    // if (JSON.parse(localStorage.getItem('is_auth')) === true) page_to_show = <p></p>;\n    // If user already entered a valid code => Show main else show login page\n    // const page_;\n    // If code entered is valid => show main else show login page\n    // const page_to_show = this.state.pre_load_over === true ? <Main></Main> : login_page;\n\n\n    if (is_auth && this.state.code_entered === false) {\n      return /*#__PURE__*/_jsxDEV(Main, {\n        fade_anim: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 14\n      }, this);\n    } else if (is_auth === true && this.state.code_entered === true && this.state.pre_load_over === true) {\n      //   alert('launching with auth and code');\n      return /*#__PURE__*/_jsxDEV(Main, {\n        fade_anim: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 14\n      }, this);\n    } else {\n      return login_page;\n    } // <div className=\"login\">\n    //   <LogoSerge className={`logo no-opacity ${logo_fade}  ${fade_out}  `} />\n    //   <div className=\"center\">\n    //     <div className={`lock ${zoom_anim}`} id=\"lock-container\">\n    //       <img\n    //         id=\"lock\"\n    //         className={`lock  ${fade_in_lock}  ${no_opacity}  `}\n    //         //   className={this.state.loaded ? 'lock fade-in-lock' : 'lock no-opacity'}\n    //         src={lockImg}\n    //         srcSet={lockImg2x}\n    //       />\n    //     </div>\n    //     <div className={`lock no-select unlockgroup ${fade_out} ${loaded_fade_in}  `}>\n    //       <img className=\"unlock\" src={unlockImg} srcSet={unlockImg2x} />\n    //     </div>\n    //     <div className={`form enter-code no-select ${fade_out} ${loaded_fade_in}  `}>\n    //       {/* 29547 */}\n    //       {/* {t('login.enter')} */}\n    //       <p className=\"enter no-select\">ENTER THE CODE</p>\n    //       <DigitInput code_entered={this.state.code_entered} value={value} onChange={this._onChange} />\n    //     </div>\n    //     {/* {t('login.hashtag')} */}\n    //     <p className={`hashtag ${fade_out} ${loaded_fade_in}  `}>#LADOMPTEUSEENCAGEE</p>\n    //   </div>\n    // </div>\n\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    hasValidateAuthentification: state.hasValidateAuthentification\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    isAuthentifcated: code => dispatch(isAuthentifcated(code))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(withRouter(Login)));","map":{"version":3,"sources":["/home/slechani/react-ladompteuse-website/src/views/login/Login.tsx"],"names":["React","withTranslation","withRouter","DigitInput","LogoSerge","connect","isAuthentifcated","lockImg","lockImg2x","unlockImg","unlockImg2x","Main","validcode","Login","Component","constructor","prop","handleLoad","setState","loaded","_onChange","value","Object","keys","includes","props","i18n","changeLanguage","lang","toLowerCase","code_entered","localStorage","setItem","JSON","stringify","is_auth","loadPage","pre_load_over","state","bind","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render","document","readyState","console","log","zoom_anim","fade_out","loaded_fade_in","fade_in_lock","no_opacity","logo_fade","getItem","setTimeout","t","login_page","mapStateToProps","hasValidateAuthentification","mapDispatchToProps","dispatch","code"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {withTranslation, WithTranslation} from 'react-i18next';\nimport {RouteComponentProps, withRouter} from 'react-router';\nimport DigitInput from '../../components/digitinput/DigitInput';\nimport LogoSerge from 'src/components/logoserge/LogoSerge';\nimport {ReduxAppState} from '../../store';\nimport {Dispatch} from 'redux';\nimport {connect, ReactReduxContext} from 'react-redux';\nimport {isAuthentifcated} from 'src/store/root/actions';\nimport {RootActionTypes} from 'src/store/root/types';\n\nimport './Login.css';\nimport lockImg from './LOCK.png';\nimport lockImg2x from './LOCK@2x.png';\nimport unlockImg from './UNLOCK THE SECRET.png';\nimport unlockImg2x from './UNLOCK THE SECRET@2x.png';\nimport Main from '../main/Main';\n\n// const validcode = {\n//   '29547': 'EN',\n//   '27683': 'FR',\n//   '37294': 'EN',\n//   '36842': 'EN',\n//   '46273': 'ES',\n//   '43582': 'EN',\n//   '59376': 'EN',\n//   '52843': 'EN',\n//   '64823': 'EN',\n//   '63598': 'FR',\n//   '78569': 'EN',\n//   '72495': 'EN',\n//   '83296': 'EN',\n//   '86572': 'EN',\n//   '95426': 'EN',\n//   '92857': 'EN',\n//   '97364': 'EN',\n//   '25894': 'FR',\n// };\nimport validcode from 'src/utils/logincode';\n\ntype StateProps = {\n  hasValidateAuthentification: boolean;\n};\n\ntype DispatchProps = {\n  isAuthentifcated: (code: string) => RootActionTypes;\n};\n\ntype Prop = WithTranslation & RouteComponentProps & StateProps & DispatchProps;\ntype State = {\n  value: string;\n  loaded: boolean;\n  code_entered: boolean;\n  pre_load_over: boolean;\n  is_auth: boolean;\n};\n\nclass Login extends React.Component<Prop, State> {\n  constructor(prop: Prop) {\n    super(prop);\n    this.state = {\n      value: '',\n      loaded: false,\n      code_entered: false,\n      pre_load_over: false,\n      is_auth: false,\n    };\n    // if (this.props.hasValidateAuthentification) {\n    //   //   this.props.history.push({pathname: 'main'});\n    //   alert('IS AUTH');\n    // } else alert('not auth');\n    this.handleLoad = this.handleLoad.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.handleLoad);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('load', this.handleLoad);\n  }\n\n  handleLoad = () => {\n    this.setState({loaded: true});\n  };\n\n  _onChange = (value: string) => {\n    this.setState({value});\n    if (Object.keys(validcode).includes(value)) {\n      this.setState({value});\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      this.props.i18n.changeLanguage(validcode[value].lang.toLowerCase());\n      this.props.isAuthentifcated(value);\n      this.setState({code_entered: true});\n      localStorage.setItem('is_auth', JSON.stringify(true));\n      this.setState({is_auth: true});\n    }\n  };\n\n  loadPage = () => {\n    // this.props.history.push({pathname: 'main'});\n    this.setState({pre_load_over: true});\n  };\n\n  // Clears text selection\n  //   clearSelection = () => {\n  //     if (!window) {\n  //     } else {\n  //       if (window.getSelection) {\n  //         window.getSelection().removeAllRanges();\n  //       }\n  //     }\n  //   };\n\n  render(): JSX.Element {\n    // Page load check for login\n    if (document.readyState === 'complete' && this.state.loaded != true) {\n      console.log('LOAD CHECK ENTERED');\n      this.setState({loaded: true});\n    }\n\n    const zoom_anim = this.state.code_entered ? ' zoom-anim' : '';\n    const fade_out = this.state.code_entered ? ' fade-out' : '';\n    const loaded_fade_in = this.state.loaded ? ' fade-in-rest' : 'no-opacity';\n    const fade_in_lock = this.state.loaded ? ' fade-in-lock ' : ' ';\n    const no_opacity = this.state.code_entered ? ' ' : ' no-opacity ';\n    const logo_fade = this.state.loaded && !this.state.code_entered ? ' fade-in-logo' : '';\n    const is_auth = localStorage.getItem('is_auth') === null ? false : true;\n\n    if (this.state.code_entered) setTimeout(this.loadPage, 4800);\n    const {t} = this.props;\n    const {value} = this.state;\n\n    // Login page\n    const login_page = (\n      <div className=\"login\">\n        <LogoSerge className={`logo no-opacity ${logo_fade}  ${fade_out}  `} />\n        <div className=\"center\">\n          <div className={`lock ${zoom_anim}`} id=\"lock-container\">\n            <img\n              id=\"lock\"\n              className={`lock  ${fade_in_lock}  ${no_opacity}  `}\n              //   className={this.state.loaded ? 'lock fade-in-lock' : 'lock no-opacity'}\n              src={lockImg}\n              srcSet={lockImg2x}\n            />\n          </div>\n          <div className={`lock no-select unlockgroup ${fade_out} ${loaded_fade_in}  `}>\n            <img className=\"unlock\" src={unlockImg} srcSet={unlockImg2x} />\n          </div>\n          <div className={`form enter-code no-select ${fade_out} ${loaded_fade_in}  `}>\n            {/* 29547 */}\n            {/* {t('login.enter')} */}\n            <p className=\"enter no-select\">ENTER THE CODE</p>\n            <DigitInput code_entered={this.state.code_entered} value={value} onChange={this._onChange} />\n\n            {/* {t('login.hashtag')} */}\n            <p className={`hashtag ${fade_out} ${loaded_fade_in}  `}>#LADOMPTEUSEENCAGEE</p>\n          </div>\n        </div>\n      </div>\n    );\n\n    // alert(JSON.stringify(ReactReduxContext));\n    // const page_to_show = this.getPage();\n    // if (JSON.parse(localStorage.getItem('is_auth')) === true) page_to_show = <p></p>;\n    // If user already entered a valid code => Show main else show login page\n    // const page_;\n    // If code entered is valid => show main else show login page\n    // const page_to_show = this.state.pre_load_over === true ? <Main></Main> : login_page;\n\n    if (is_auth && this.state.code_entered === false) {\n      return <Main fade_anim={false}></Main>;\n    } else if (is_auth === true && this.state.code_entered === true && this.state.pre_load_over === true) {\n      //   alert('launching with auth and code');\n      return <Main fade_anim={true}></Main>;\n    } else {\n      return login_page;\n    }\n    // <div className=\"login\">\n    //   <LogoSerge className={`logo no-opacity ${logo_fade}  ${fade_out}  `} />\n    //   <div className=\"center\">\n    //     <div className={`lock ${zoom_anim}`} id=\"lock-container\">\n    //       <img\n    //         id=\"lock\"\n    //         className={`lock  ${fade_in_lock}  ${no_opacity}  `}\n    //         //   className={this.state.loaded ? 'lock fade-in-lock' : 'lock no-opacity'}\n    //         src={lockImg}\n    //         srcSet={lockImg2x}\n    //       />\n    //     </div>\n    //     <div className={`lock no-select unlockgroup ${fade_out} ${loaded_fade_in}  `}>\n    //       <img className=\"unlock\" src={unlockImg} srcSet={unlockImg2x} />\n    //     </div>\n    //     <div className={`form enter-code no-select ${fade_out} ${loaded_fade_in}  `}>\n    //       {/* 29547 */}\n    //       {/* {t('login.enter')} */}\n    //       <p className=\"enter no-select\">ENTER THE CODE</p>\n    //       <DigitInput code_entered={this.state.code_entered} value={value} onChange={this._onChange} />\n    //     </div>\n    //     {/* {t('login.hashtag')} */}\n    //     <p className={`hashtag ${fade_out} ${loaded_fade_in}  `}>#LADOMPTEUSEENCAGEE</p>\n    //   </div>\n    // </div>\n  }\n}\n\nconst mapStateToProps = (state: ReduxAppState): StateProps => {\n  return {\n    hasValidateAuthentification: state.hasValidateAuthentification,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n  return {\n    isAuthentifcated: (code: string) => dispatch(isAuthentifcated(code)),\n  };\n};\n\nexport default connect<StateProps, DispatchProps, unknown, ReduxAppState>(\n  mapStateToProps,\n  mapDispatchToProps,\n)(withTranslation()(withRouter(Login)));\n"]},"metadata":{},"sourceType":"module"}