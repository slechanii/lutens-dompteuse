{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/slechani/react-ladompteuse-website/src/views/login/Login.tsx\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { withRouter } from 'react-router';\nimport './Login.css';\nimport lockImg from './LOCK.png';\nimport lockImg2x from './LOCK@2x.png';\nimport DigitInput from '../../components/digitinput/DigitInput';\nimport LogoSerge from 'src/components/logoserge/LogoSerge';\nimport { connect } from 'react-redux';\nimport { isAuthentifcated } from 'src/store/root/actions';\nconst validcode = {\n  '29547': 'EN',\n  '27683': 'FR',\n  '37294': 'EN',\n  '36842': 'EN',\n  '46273': 'ES',\n  '43582': 'EN',\n  '59376': 'EN',\n  '52843': 'EN',\n  '64823': 'EN',\n  '63598': 'FR',\n  '78569': 'EN',\n  '72495': 'EN',\n  '83296': 'EN',\n  '86572': 'EN',\n  '95426': 'EN',\n  '92857': 'EN',\n  '97364': 'EN',\n  '25894': 'FR'\n};\n\nclass Login extends React.Component {\n  constructor(prop) {\n    super(prop);\n\n    this._onChange = value => {\n      this.setState({\n        value\n      });\n\n      if (Object.keys(validcode).includes(value)) {\n        this.setState({\n          value\n        }); // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n\n        this.props.i18n.changeLanguage(validcode[value]);\n        this.props.isAuthentifcated();\n        this.props.history.push({\n          pathname: 'main'\n        });\n      }\n    };\n\n    this.state = {\n      value: ''\n    };\n\n    if (this.props.hasValidateAuthentification) {\n      this.props.history.push({\n        pathname: 'main'\n      });\n    }\n\n    this.handleLoad = this.handleLoad.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.handleLoad);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('load', this.handleLoad);\n  }\n\n  handleLoad() {}\n\n  render() {\n    const {\n      t\n    } = this.props;\n    const {\n      value\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(LogoSerge, {\n        className: \"logo no-opacity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lock\",\n          id: \"lock-container\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"lock\",\n            className: \"lock no-opacity\",\n            src: lockImg,\n            srcSet: lockImg2x\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"unlockgroup no-opacity\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"unlock\",\n            children: t('login.unlock')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"thesecret\",\n            children: t('login.thesecret')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form no-opacity\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"enter\",\n            children: [t('login.enter'), \" 29547\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(DigitInput, {\n            value: value,\n            onChange: this._onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"hashtag no-opacity\",\n          children: t('login.hashtag')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    hasValidateAuthentification: state.hasValidateAuthentification\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    isAuthentifcated: () => dispatch(isAuthentifcated())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation()(withRouter(Login)));","map":{"version":3,"sources":["/home/slechani/react-ladompteuse-website/src/views/login/Login.tsx"],"names":["React","withTranslation","withRouter","lockImg","lockImg2x","DigitInput","LogoSerge","connect","isAuthentifcated","validcode","Login","Component","constructor","prop","_onChange","value","setState","Object","keys","includes","props","i18n","changeLanguage","history","push","pathname","state","hasValidateAuthentification","handleLoad","bind","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render","t","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withTranslation, WithTranslation } from 'react-i18next';\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport './Login.css';\nimport lockImg from './LOCK.png';\nimport lockImg2x from './LOCK@2x.png';\nimport DigitInput from '../../components/digitinput/DigitInput';\nimport LogoSerge from 'src/components/logoserge/LogoSerge';\nimport { ReduxAppState } from '../../store';\nimport { Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { isAuthentifcated } from 'src/store/root/actions';\nimport { RootActionTypes } from 'src/store/root/types';\n\nconst validcode = {\n    '29547': 'EN',\n    '27683': 'FR',\n    '37294': 'EN',\n    '36842': 'EN',\n    '46273': 'ES',\n    '43582': 'EN',\n    '59376': 'EN',\n    '52843': 'EN',\n    '64823': 'EN',\n    '63598': 'FR',\n    '78569': 'EN',\n    '72495': 'EN',\n    '83296': 'EN',\n    '86572': 'EN',\n    '95426': 'EN',\n    '92857': 'EN',\n    '97364': 'EN',\n    '25894': 'FR',\n};\n\ntype StateProps = {\n    hasValidateAuthentification: boolean;\n};\n\ntype DispatchProps = {\n    isAuthentifcated: () => RootActionTypes;\n};\n\ntype Prop = WithTranslation & RouteComponentProps & StateProps & DispatchProps;\ntype State = {\n    value: string;\n};\n\nclass Login extends React.Component<Prop, State> {\n    constructor(prop: Prop) {\n        super(prop);\n        this.state = {\n            value: '',\n        };\n        if (this.props.hasValidateAuthentification) {\n            this.props.history.push({ pathname: 'main' });\n        }\n        this.handleLoad = this.handleLoad.bind(this);\n    }\n\n    componentDidMount() {\n        window.addEventListener('load', this.handleLoad);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('load', this.handleLoad)\n    }\n\n    handleLoad() {\n    }\n\n    _onChange = (value: string) => {\n        this.setState({ value });\n        if (Object.keys(validcode).includes(value)) {\n            this.setState({ value });\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            this.props.i18n.changeLanguage(validcode[value]);\n            this.props.isAuthentifcated();\n            this.props.history.push({ pathname: 'main' });\n        }\n    };\n\n    render(): JSX.Element {\n        const { t } = this.props;\n        const { value } = this.state;\n        return (\n            <div className=\"login\">\n                <LogoSerge className=\"logo no-opacity\" />\n                <div className=\"center\">\n                    <div className=\"lock\" id=\"lock-container\">\n                        <img id=\"lock\" className=\"lock no-opacity\" src={lockImg} srcSet={lockImg2x} />\n                    </div>\n                    <div className=\"unlockgroup no-opacity\">\n                        <p className=\"unlock\">{t('login.unlock')}</p>\n                        <p className=\"thesecret\">{t('login.thesecret')}</p>\n                    </div>\n                    <div className=\"form no-opacity\">\n                        <p className=\"enter\">{t('login.enter')} 29547</p>\n                        <DigitInput value={value} onChange={this._onChange} />\n                    </div>\n                    <p className=\"hashtag no-opacity\">{t('login.hashtag')}</p>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state: ReduxAppState): StateProps => {\n    return {\n        hasValidateAuthentification: state.hasValidateAuthentification,\n    };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps => {\n    return {\n        isAuthentifcated: () => dispatch(isAuthentifcated()),\n    };\n};\n\nexport default connect<StateProps, DispatchProps, unknown, ReduxAppState>(\n    mapStateToProps,\n    mapDispatchToProps,\n)(withTranslation()(withRouter(Login)));\n"]},"metadata":{},"sourceType":"module"}